{%- for block in section.blocks -%}
  {%- case block.type -%}
    {%- when 'announcement' -%}
      <div class="announcement-bar bg-soft-blue py-6 md:py-12 lg:py-6 flex justify-between px-12 md:px-24 items-center lg:justify-center">
        <div class="content flex-1 mr-16 lg:mr-8 last-mb-none lg:flex-none text-announcement lg:text-announcement-lg">
          {{ block.settings.text }}
        </div>
        {% if block.settings.link != blank %}
        <a href="{{ block.settings.link }}"  {% if block.settings.target == true %} target="_blank" rel="noopener noreferrer" {% endif%} class="flex-none link-arrow btn mr-1 lg:-mt-1">
          {{block.settings.label_link }}
          {% if block.settings.hiddenText != blank %}<span class="sr-only">{{ block.settings.hiddenText }} </span> {% endif%}
          <span class="icomoon icon-link-arrow"></span>
        </a>
        {% endif %}
      </div>
  {%- endcase -%}
{%- endfor -%}

{% schema %}
{
  "name": "t:sections.announcement-bar.name",
  "max_blocks": 12,
  "blocks": [
    {
      "type": "announcement",
      "name": "t:sections.announcement-bar.blocks.announcement.name",
      "limit": 1,
      "settings": [
        {
          "type": "richtext",
          "id": "text",
          "default": "<p>Special announcement banner at the top message here</p>",
          "label": "Content"
        },
        {
          "type": "text",
          "id": "label_link",
          "label": "Label Link"
        },
        {
          "type": "url",
          "id": "link",
          "label": "t:sections.announcement-bar.blocks.announcement.settings.link.label"
        },
        {
          "type": "checkbox",
          "id": "target",
          "label": "Open new tab"
        },
        {
          "type": "text",
          "id": "hiddenText",
          "label": "Hidden Text"
        }
      ]
    }
  ],
  "default": {
    "blocks": [
      {
        "type": "announcement"
      }
    ]
  }
}
{% endschema %}
